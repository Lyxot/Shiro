const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./langs-DLp95ykX.js","./index-CBHBE1mY.js","./index-Cqu5u0_p.css"])))=>i.map(i=>d[i]);
import{r as i,j as l,_ as j}from"./index-CBHBE1mY.js";import{F as x,K as y}from"./owner-CChJBhvK.js";import{u as _}from"./use-is-dark-C9II6vOr.js";import{s as h}from"./dom-BowoBODo.js";import{c as k}from"./helper-jIGjUHP-.js";import{a as w}from"./Shiki-lU-Wlr6D.js";const d={},o={};function u(e){return new Promise((n,t)=>{const a=d[e];if(a==="loaded")return n(null);if(a==="loading"){o[e]=o[e]?[...o[e],[n,t]]:[[n,t]];return}const s=document.createElement("script");s.src=e,s.crossOrigin="anonymous",d[e]="loading",s.onload=function(){d[e]="loaded",n(null),o[e]&&(o[e].forEach(([r])=>{r(null)}),delete o[e])},s.onerror=function(r){this.onerror=this.onload=null,delete d[e],o[e].forEach(([,b])=>{b(r)}),delete o[e],t(r)},document.head.append(s)})}const c=new Map;function g(e){if(c.has(e)){const t=c.get(e);return{$link:t,remove:()=>{t.parentNode&&t.parentNode.removeChild(t),c.delete(e)}}}const n=document.createElement("link");return n.href=e,n.rel="stylesheet",n.type="text/css",n.crossOrigin="anonymous",c.set(e,n),n.onerror=()=>{n.onerror=null,c.delete(e)},document.head.append(n),{remove:()=>{n.parentNode&&n.parentNode.removeChild(n),c.delete(e)},$link:n}}const m={"code-wrap":"_code-wrap_1uhyk_1","copy-tip":"_copy-tip_1uhyk_11","language-tip":"_language-tip_1uhyk_49"},E=e=>{const{lang:n,content:t,startLineNumber:a=1}=e,s=i.useCallback(()=>{navigator.clipboard.writeText(t),x.success("已复制到剪贴板")},[t]),r=i.useRef(null);return f(r),l.jsxs("div",{className:m["code-wrap"],onCopy:h,children:[l.jsx("span",{className:m["language-tip"],"aria-hidden":!0,children:n?.toUpperCase()}),l.jsx("pre",{className:"line-numbers !bg-transparent","data-start":a,children:l.jsx("code",{className:`language-${n??"markup"} !bg-transparent`,ref:r,children:t})}),l.jsx("div",{className:m["copy-tip"],onClick:s,"aria-hidden":!0,children:"Copy"})]})},P=({content:e,lang:n,className:t,style:a})=>{const s=i.useRef(null);return f(s),i.useEffect(()=>{window.Prism?.highlightElement(s.current)},[e,n]),l.jsx("pre",{onCopy:h,className:k("!bg-transparent",t),style:a,"data-start":"1",children:l.jsx("code",{className:`language-${n??"markup"} !bg-transparent`,ref:s,children:e})})},f=e=>{const n=i.useRef(),t=y(),a=_();i.useInsertionEffect(()=>{const s=g(`https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.9.0/prism-one-${t?"light":a?"dark":"light"}.css`);if(n.current){const r=n.current;s.$link.onload=()=>{r.remove()}}n.current=s},[a,t]),i.useInsertionEffect(()=>{g("https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/plugins/line-numbers/prism-line-numbers.min.css"),u("https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-core.min.js").then(()=>Promise.all([u("https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/plugins/autoloader/prism-autoloader.min.js"),u("https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/plugins/line-numbers/prism-line-numbers.min.js")])).then(()=>{e.current?requestAnimationFrame(()=>{window.Prism?.highlightElement(e.current),requestAnimationFrame(()=>{window.Prism?.highlightElement(e.current)})}):requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.Prism?.highlightAll()})})})},[])};let p=null;const S=e=>{const{lang:n}=e,t=i.use(i.useMemo(async()=>{if(!n)return!1;if(!p){const{bundledLanguages:a}=await j(async()=>{const{bundledLanguages:s}=await import("./langs-DLp95ykX.js");return{bundledLanguages:s}},__vite__mapDeps([0,1,2]),import.meta.url);p=new Set(Object.keys(a))}return p.has(n)},[n]));return l.jsx(w,{...e,lang:t?e.lang:"text"})},A=Object.freeze(Object.defineProperty({__proto__:null,BaseCodeHighlighter:P,HighLighterPrismCdn:E,ShikiFallback:S},Symbol.toStringTag,{value:"Module"}));export{P as B,E as H,A as i,u as l};
